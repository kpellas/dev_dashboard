<!DOCTYPE html>
<html>
<head>
    <title>Test Edit Functions</title>
    <link href="https://cdn.tailwindcss.com" rel="stylesheet">
</head>
<body class="p-8">
    <h1 class="text-2xl font-bold mb-4">Test Edit Functions</h1>
    
    <div class="mb-4 p-4 border rounded">
        <h2 class="font-bold mb-2">Function Status:</h2>
        <div id="status"></div>
    </div>
    
    <div class="mb-4 p-4 border rounded">
        <h2 class="font-bold mb-2">Ideas List:</h2>
        <div id="ideasList"></div>
    </div>
    
    <script src="dashboard-improvements.js"></script>
    <script src="session-management.js"></script>
    
    <script>
        // Set up minimal global state
        window.ideas = {
            items: [
                {
                    id: 'test-1',
                    type: 'bug',
                    title: 'Test Bug - Click to Edit',
                    description: 'This is a test bug. Click on this card to edit it.',
                    priority: 'high',
                    status: 'new',
                    sprint: ''
                }
            ],
            sprints: {
                'sprint-1': { name: 'Sprint 1' }
            }
        };
        window.activeProject = 'test';
        window.editingItemId = null;
        
        // Check functions after load
        window.addEventListener('load', () => {
            const status = document.getElementById('status');
            const funcs = ['renderIdeasTab', 'startEdit', 'cancelEdit', 'saveItemChanges'];
            
            status.innerHTML = funcs.map(f => {
                const exists = typeof window[f] === 'function';
                return `<div class="${exists ? 'text-green-600' : 'text-red-600'}">
                    ${f}: ${exists ? '✓ Available' : '✗ Missing'}
                </div>`;
            }).join('');
            
            // Try to render ideas
            if (typeof window.renderIdeasTab === 'function') {
                console.log('Calling renderIdeasTab...');
                window.renderIdeasTab();
            } else {
                document.getElementById('ideasList').innerHTML = 
                    '<p class="text-red-500">renderIdeasTab function not available!</p>';
            }
        });
    </script>
</body>
</html>