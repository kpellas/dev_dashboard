<!DOCTYPE html>
<html>
<head>
    <title>Verify Enhanced Sessions</title>
    <link href="https://cdn.tailwindcss.com" rel="stylesheet">
</head>
<body class="p-8">
    <h1 class="text-2xl font-bold mb-4">Verify Enhanced Sessions</h1>
    
    <div id="log" class="mb-4 p-4 border rounded bg-gray-100 font-mono text-sm"></div>
    <div id="sessionsList" class="space-y-4"></div>
    
    <script>
        const log = (msg) => {
            document.getElementById('log').innerHTML += msg + '<br>';
        };
    </script>
    
    <script src="dashboard-improvements.js"></script>
    <script src="session-management.js"></script>
    
    <script>
        // Mock data
        window.sessions = [
            {
                sessionId: "20250809-Test-feature",
                projectId: "test",
                projectName: "Test Project", 
                sprintName: "Test Sprint",
                worktreeName: "test-worktree",
                sprint: "Test Sprint",
                worktree: "test-worktree",
                items: 2,
                status: "ready",
                state: "in_progress",
                created: new Date().toISOString()
            }
        ];
        window.activeProject = "test";
        window.projects = {};
        window.worktrees = [];
        window.ideas = {};
        
        window.addEventListener('load', () => {
            log('Page loaded');
            log('renderEnhancedSessionCard exists: ' + (typeof renderEnhancedSessionCard === 'function'));
            log('renderSessionsTab exists: ' + (typeof renderSessionsTab === 'function'));
            
            if (typeof renderSessionsTab === 'function') {
                log('Calling renderSessionsTab()...');
                renderSessionsTab();
                log('renderSessionsTab() completed');
            } else {
                log('ERROR: renderSessionsTab not found!');
            }
            
            // Check what was rendered
            const content = document.getElementById('sessionsList').innerHTML;
            if (content.includes('border-green-500') || content.includes('border-blue-500')) {
                log('SUCCESS: Enhanced session card detected!');
            } else if (content.includes('border rounded-lg p-4')) {
                log('WARNING: Basic session card rendered instead of enhanced');
            } else {
                log('ERROR: No session cards rendered');
            }
        });
    </script>
</body>
</html>