<!DOCTYPE html>
<html>
<head>
    <title>Debug Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // Set up global variables that session-management.js expects
        window.sessions = [
            {
                sessionId: "TEST_001",
                projectId: "test",
                projectName: "Test Project",
                sprintName: "Sprint 1",
                worktreeName: "feature-test",
                items: [
                    {id: "item-1", title: "Test Item 1", status: "new"},
                    {id: "item-2", title: "Test Item 2", status: "done"}
                ],
                state: "planned",
                status: "ready",
                created: new Date().toISOString(),
                worktree: {
                    path: "/test/path",
                    frontendPort: 5173,
                    backendPort: 3001
                }
            }
        ];
        window.activeProject = "test";
        window.projects = { test: { name: "Test Project", path: "/test" } };
        window.worktrees = [];
        window.ideas = { items: [] };
    </script>
    <script src="session-management.js"></script>
</head>
<body class="p-8">
    <h1 class="text-2xl mb-4">Debug Enhanced Session Cards</h1>
    
    <div id="sessionsList" class="space-y-4"></div>
    
    <script>
        // Wait for everything to load
        window.addEventListener('load', () => {
            console.log('renderEnhancedSessionCard available?', typeof renderEnhancedSessionCard);
            console.log('SESSION_STATES available?', typeof SESSION_STATES);
            
            if (typeof renderEnhancedSessionCard === 'function') {
                const html = sessions.map(session => renderEnhancedSessionCard(session)).join('');
                document.getElementById('sessionsList').innerHTML = html;
                console.log('Cards rendered');
            } else {
                document.getElementById('sessionsList').innerHTML = '<p class="text-red-600">renderEnhancedSessionCard not found!</p>';
            }
        });
    </script>
</body>
</html>